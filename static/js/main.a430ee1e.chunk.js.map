{"version":3,"sources":["lib/index.js","lib/Table.js","index.js"],"names":["Table","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","measurementOnClick","e","measurementData","tableData","map","data","push","target","className","updateTableState","alert","colOnClick","neighborColIndex","classNames","split","selectedCol1","Number","selectedColIndex","parseInt","length","selectedCol2","time","tableKeys","keys","_this2","TableRow","_ref2","m","rowIndex","react_default","a","createElement","key","style","background","concat","onClick","colIndex","cellText","curTime","date","Date","format","data-unixtime","overflowX","_ref","measurements","i","clear","PureComponent","App","handleSubmit","preventDefault","jsonStr","value","replace","s","substring","json","JSON","parse","setState","objectSpread","state","m1","m2","bind","assertThisInitialized","newState","Fragment","onSubmit","height","width","fontSize","placeholder","type","ref","element","lib","selectedMeasurement","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a430ee1e.chunk.js","sourcesContent":["import Table from \"./Table\";\nexport default Table;","import React, { PureComponent } from \"react\";\nimport { format } from 'date-fns';\nimport \"./Table.css\"\n\n// data = [{time: int, measurement1: int, measurement2: int...}]\n// key = [time, measurement1, meansurement2...]\nclass Table extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.tableKeys = this.props.data.keys\n        this.tableData = this.props.data.data\n    }\n\n    measurementOnClick = (e) => {\n        let measurementData = []\n        this.tableData.map(data => {\n            measurementData.push([data[\"time\"], data[e.target.className]])\n        })\n\n        this.props.updateTableState(e.target.className)\n        alert(e.target.className + \" \" + measurementData)\n    }\n\n    colOnClick = (e) => {\n        let classNames = e.target.className.split(\" \")\n        let selectedCol1 = Number(classNames[1])\n        let selectedColIndex = parseInt(classNames[2])\n        let neighborColIndex\n\n        if (this.tableData.length === 1) {\n            neighborColIndex = 0\n        } else if (selectedColIndex === this.tableData.length - 1) {\n            neighborColIndex = selectedColIndex - 1\n        } else {\n            neighborColIndex = selectedColIndex + 1\n        }\n\n        this.props.updateTableState({\n            selectedCol1: selectedCol1,\n            selectedCol2: this.tableData[neighborColIndex].time\n        })\n    }\n\n    render() {\n        if (!this.props.data) {\n            return null;\n        }\n\n        this.tableKeys = this.props.data.keys\n        this.tableData = this.props.data.data\n\n        const TableBody = ({ measurements }) => {\n            {\n                return (\n                    measurements.map((m, i) => {\n                        return (\n                            <TableRow key={m} m={m} rowIndex={i} />\n                        )\n                    })\n                )\n            }\n        }\n\n        // creates the table row by row\n        const TableRow = ({ m, rowIndex }) => (\n            <tr\n                key={m + 1}\n                style={{\n                    background: rowIndex % 2 === 0 ? \"#EEEEEE\" : \"white\"\n                }}>\n                {   // first cell in the row is measurement label\n                    m === \"time\" ?\n                        <td className={\"folder-table-\" + m} key={m}></td> :\n                        <td className={`${\"folder-table-\" + m} ${\"firsttd\"}`}\n                            key={m}\n                            onClick={this.measurementOnClick}\n                        >\n                            {m}\n                        </td>\n                }\n                {this.tableData.map((data, colIndex) => {\n                    let curTime = this.tableData[colIndex].time\n                    let cellText\n\n                    if (rowIndex === 0) {\n                        let date = new Date(curTime * 1000)\n                        cellText = format(date, \"hh:MMA\")\n                    } else {\n                        cellText = data[m]\n                    }\n\n                    return (\n                        <td\n                            className={`${\"folder-table-\" + m} ${curTime} ${colIndex + \"td\"}`}\n                            data-unixtime={curTime}\n                            key={colIndex}\n                            onClick={this.colOnClick}\n                            style=\n                            // double ternary statements needed because the first row's \n                            // initial background is different than the rest\n                            {this.props.selectedCol1 === curTime ||\n                                this.props.selectedCol2 === curTime ?\n                                { background: \"rgba(247, 173, 229, 0.3)\" } : {}}\n                        >\n                            {cellText}\n                        </td>\n                    )\n                })}\n            </tr>\n        )\n\n        return (\n            <div className=\"folder-table-container\">\n                <div\n                    className=\"folder-table\"\n                    style={{ overflowX: \"auto\" }}\n                >\n                    <table key=\"folder-table\">\n                        <tbody key=\"folder-table-body\">\n                            <TableBody measurements={this.tableKeys} />\n                        </tbody>\n                    </table>\n                    <br style={{ clear: \"both\" }} />\n                </div>\n            </div>\n        );\n\n    }\n}\n\nexport default Table;\n","import React, { Component, Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Table from \"./lib\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: {\n                data: [\n                    { time: 14324324, m1: 54, m2: 443 },\n                    { time: 14394324, m1: 45, m2: 403 },\n                    { time: 1439434324, m1: 45, m2: 403 },\n                    { time: 1432435424, m1: 54, m2: 443 },\n                    { time: 16394324, m1: 45, m2: 403 },\n                    { time: 15394344, m1: 45, m2: 403 },\n                    { time: 154355444, m1: 54, m2: 443 },\n                    { time: 1639555424, m1: 45, m2: 403 },\n                    { time: 153945454, m1: 45, m2: 403 }],\n                keys: [\"time\", \"m1\", \"m2\"]\n            },\n            selectedCol1: null,\n            selectedCol2: null\n        }\n\n        this.updateTableState = this.updateTableState.bind(this)\n    }\n\n    handleSubmit = (e) => {\n        if (e) e.preventDefault();\n        const data = this.data.value;\n        var jsonStr = data.replace(/(\\w+:)|(\\w+ :)/g, function (s) {\n            return '\"' + s.substring(0, s.length - 1) + '\":';\n        });\n\n        let json = JSON.parse(jsonStr)\n        this.setState({\n            ...this.state,\n            data: json\n        })\n    }\n\n    updateTableState(newState) {\n        this.setState({\n            ...this.state,\n            ...newState\n        })\n    }\n\n    selectedMeasurement() {\n\n    }\n\n    selectedCol1() {\n\n    }\n\n    selectedCol2() {\n\n    }\n\n    render() {\n        return (\n            <>\n                <div>Pass in data in the form: {'{data: [{time: 156565656, m1: 54, m2: 443}, {time: 1654654546, m1: 54, m2: 443 }, {time: 16546546546, m1: 54, m2: 443 },  {time: 1654663146, m1: 54, m2: 443 },  {time: 1656546546, m1: 54, m2: 443 }, {time: 16534546, m1: 54, m2: 443 }, {time: 1656346546, m1: 54, m2: 443 }], keys: [\"time\", \"m1\", \"m2\"]} '}</div>\n                <form onSubmit={this.handleSubmit}>\n                    <input style={{\n                        height: \"50px\",\n                        width: \"50%\",\n                        fontSize: \"14pt\"\n                    }} placeholder=\"data\" type=\"text\" ref={(element) => { this.data = element }} />\n                    <button>UPDATE TABLE</button>\n                </form>\n                <Table\n                    data={this.state.data}\n                    updateTableState={this.updateTableState}\n                    selectedMeasurement={this.selectedMeasurement}\n                    selectedCol1={this.state.selectedCol1}\n                    selectedCol2={this.state.selectedCol2}\n                />\n            </>\n        )\n    }\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n\n"],"sourceRoot":""}